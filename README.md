# 편의점 고객 멤버십 계산 프로그램

## 1. 프로그램 개요
**목적:** 
- 고객의 누적 구매 금액을 기반으로 멤버십 등급을 부여하고 혜택을 제공하는 프로그램.
- 고객(소비자)과 관리자 모두 사용할 수 있는 시스템.
- MySQL 데이터베이스와 연동하여 고객 정보, 구매 내역, 등급 변경 등을 관리.

**주요 기능:**
1. 고객 멤버십 등록
2. 방문자 구매 내역 입력
3. 구매 내역에 따른 등급 자동 부여
4. 고객 정보 조회 및 수정/삭제

---

## 2. 프로그램 흐름
### 1️⃣ **프로그램 시작**
- 실행 시 **사용자 역할을 선택**하는 인터페이스 제공.
  - "[1. 소비자] [2. 관리자] [3. 종료]"
  - 선택에 따라 각각의 기능 제공.

### 2️⃣ **소비자 모드 (회원 기능)**
#### **[1. 멤버십 등록]**
- 고객 정보를 입력하여 멤버십을 등록.
- 중복 가입 방지를 위해 전화번호 중복 검사 진행.
- 등록된 고객은 기본적으로 "Silver" 등급으로 시작.

#### **[2. 멤버십 조회]**
- 전화번호 입력 후 **고객 정보, 등급 및 혜택** 조회.
- 존재하지 않는 회원일 경우 오류 메시지 출력.

#### **[3. 종료]**
- 소비자 모드 종료 후 메인 화면으로 이동.

---

### 3️⃣ **관리자 모드 (고객 및 로그 관리)**
#### **[1. 방문자 구매 내역 입력]**
- 전화번호 뒷 4자리 입력 후 고객 검색.
- 동일한 번호를 가진 여러 명이 있을 경우, 선택하여 구매액 입력.
- 입력된 구매 금액은 `Logs` 테이블에 저장됨.
- `Grades` 테이블에서 해당 고객의 `sum_account` 업데이트.
- 누적 금액 기준으로 등급 자동 변경:
  - 50만 원 이상 → "VVip"
  - 20만 원 이상 → "Vip"
  - 10만 원 이상 → "Gold"
  - 10만 원 미만 → "Silver"

#### **[2. 고객 로그 조회]**
- 고객 이름 입력 후 해당 고객의 구매 내역 확인.
- 만약 엔터만 입력하면 최근 10개의 로그만 조회.

#### **[3. 고객 정보 수정]**
- 고객 이름 입력 후, 일치하는 회원 목록 출력.
- 수정할 고객 선택 후 이름, 전화번호 등 정보 수정 가능.

#### **[4. 고객 삭제]**
- 고객 이름 입력 후, 삭제할 회원 선택.
- 삭제 확인 후 `Customers` 테이블에서 제거.
- 연관된 `Logs`, `Benefit_Usage_Logs` 데이터 삭제 (`CASCADE` 적용 확인 필요).

#### **[5. 종료]**
- 관리자 모드 종료 후 메인 화면으로 이동.

---

## 3. 데이터베이스 연동
- MySQL `membership_db`와 연동하여 데이터를 관리.
- 주요 테이블:
  - `Customers`: 고객 정보 저장
  - `Logs`: 고객의 구매 내역 저장
  - `Grades`: 고객의 누적 구매 금액 및 등급 관리
  - `Benefit`: 등급별 혜택 저장
  - `Benefit_Usage_Logs`: 혜택 사용 내역 저장

- `cursor.execute()`를 사용하여 SQL 쿼리를 실행하고, `fetchone()` 또는 `fetchall()`로 데이터 조회.
- `commit()`을 사용하여 변경 사항을 저장.

---

## 4. 프로그램 실행 및 종료
- 프로그램 실행 시 `while` 루프를 통해 지속적으로 입력을 받음.
- **사용자가 "종료"를 선택하면 프로그램이 종료됨.**
- MySQL 데이터베이스 연결(`conn.close()`)을 종료하여 리소스를 정리.

---

## 5. 프로그램 개선 가능 사항
✅ **추가 기능 제안:**
1. 등급 변경 시 자동 알림 (SMS 또는 이메일 전송 기능 추가 가능)
2. 고객별 맞춤형 혜택 추천 기능
3. 관리자 대시보드 (구매 통계, 회원 등급 분석 등 시각화 지원)

---

**이 프로그램은 편의점 고객의 멤버십을 체계적으로 관리하고, 보다 효율적인 혜택 제공을 목표로 합니다.** 🚀